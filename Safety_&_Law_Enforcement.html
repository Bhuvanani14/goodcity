<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safety & Law Enforcement - Improve My City</title>
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0B0A2A 0%, #11114C 50%, #16186E 100%);
            color: white;
            min-height: 100%;
        }

        html {
            height: 100%;
        }

        /* Navigation */
        nav {
            background: rgba(11, 10, 42, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(34, 36, 179, 0.3);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2224B3;
            text-shadow: 0 0 10px rgba(34, 36, 179, 0.5);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s ease;
            font-weight: 500;
        }

        .nav-links a:hover {
            color: #2224B3;
        }

        /* Main Content */
        main {
            margin-top: 80px;
            padding: 2rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Header Section */
        .page-header {
            text-align: center;
            padding: 2rem 0 3rem;
            border-bottom: 1px solid rgba(34, 36, 179, 0.3);
            margin-bottom: 2rem;
        }

        .page-header h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, #2224B3, #1C1E91);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-header .category-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            display: block;
        }

        .page-header p {
            font-size: 1.2rem;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 3rem;
        }

        .stat-item {
            background: linear-gradient(135deg, rgba(28, 30, 145, 0.2), rgba(34, 36, 179, 0.1));
            border: 1px solid rgba(34, 36, 179, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #2224B3;
            display: block;
        }

        .stat-label {
            opacity: 0.8;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        /* Filter Section */
        .filters {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-btn {
            padding: 0.7rem 1.2rem;
            border: 1px solid rgba(34, 36, 179, 0.5);
            background: transparent;
            color: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .filter-btn.active,
        .filter-btn:hover {
            background: linear-gradient(45deg, #2224B3, #1C1E91);
            border-color: #2224B3;
        }

        /* Issues List */
        .issues-container {
            margin-bottom: 6rem;
        }

        .issue-card {
            background: linear-gradient(135deg, rgba(17, 17, 76, 0.3), rgba(22, 24, 110, 0.2));
            border: 1px solid rgba(34, 36, 179, 0.4);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }

        .issue-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(34, 36, 179, 0.3);
        }

        .issue-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .issue-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2224B3;
            margin: 0 0 0.5rem 0;
        }

        .priority-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .priority-low {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .priority-moderate {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .priority-urgent {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .issue-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.9rem;
            opacity: 0.7;
            margin-bottom: 1rem;
        }

        .issue-description {
            line-height: 1.6;
            margin-bottom: 1rem;
            opacity: 0.9;
        }

        .issue-location {
            background: rgba(34, 36, 179, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            display: inline-block;
        }

        .safety-type {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-left: 1rem;
            display: inline-block;
        }

        .issue-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .upvote-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(45deg, rgba(34, 36, 179, 0.3), rgba(28, 30, 145, 0.2));
            border: 1px solid rgba(34, 36, 179, 0.5);
            color: white;
            padding: 0.7rem 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .upvote-btn:hover {
            background: linear-gradient(45deg, #2224B3, #1C1E91);
            transform: translateY(-1px);
        }

        .upvote-btn.voted {
            background: linear-gradient(45deg, #2224B3, #1C1E91);
            box-shadow: 0 0 15px rgba(34, 36, 179, 0.4);
        }

        .vote-count {
            font-weight: bold;
            color: #2224B3;
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #2224B3, #1C1E91);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(34, 36, 179, 0.4);
            transition: all 0.3s ease;
            z-index: 999;
        }

        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(34, 36, 179, 0.6);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(11, 10, 42, 0.9);
            backdrop-filter: blur(10px);
            z-index: 2000;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(17, 17, 76, 0.9), rgba(22, 24, 110, 0.8));
            border: 2px solid rgba(34, 36, 179, 0.5);
            border-radius: 20px;
            padding: 2rem;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .modal-title {
            font-size: 1.8rem;
            color: #2224B3;
            margin: 0;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: background 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(239, 68, 68, 0.2);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #2224B3;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 1rem;
            border: 1px solid rgba(34, 36, 179, 0.3);
            border-radius: 8px;
            background: rgba(11, 10, 42, 0.5);
            color: white;
            font-size: 1rem;
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #2224B3;
            box-shadow: 0 0 10px rgba(34, 36, 179, 0.3);
        }

        .file-upload {
            border: 2px dashed rgba(34, 36, 179, 0.5);
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload:hover {
            border-color: #2224B3;
            background: rgba(34, 36, 179, 0.1);
        }

        .file-upload input {
            display: none;
        }

        .submit-btn {
            background: linear-gradient(45deg, #2224B3, #1C1E91);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(34, 36, 179, 0.4);
        }

        /* Emergency Notice */
        .emergency-notice {
            background: linear-gradient(45deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.1));
            border: 2px solid rgba(239, 68, 68, 0.4);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .emergency-notice h3 {
            color: #ef4444;
            margin: 0 0 0.5rem 0;
            font-size: 1.2rem;
        }

        .emergency-notice p {
            margin: 0;
            opacity: 0.9;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .page-header h1 {
                font-size: 2rem;
            }

            .stats-bar {
                grid-template-columns: repeat(2, 1fr);
            }

            .filters {
                justify-content: center;
            }

            .issue-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .issue-actions {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .fab {
                bottom: 1rem;
                right: 1rem;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="logo">Improve My City</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#categories">Categories</a></li>
                <li><a href="#chat">AI Assistant</a></li>
                <li><a href="#contributors">Contributors</a></li>
                <li><a href="#about">About</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <header class="page-header">
            <span class="category-icon">🚔</span>
            <h1>Safety & Law Enforcement</h1>
            <p>Report safety concerns, crime incidents, emergency service issues, and law enforcement matters to help keep our community secure and protected.</p>
        </header>

        <div class="emergency-notice">
            <h3>🚨 Emergency Situations</h3>
            <p>For immediate emergencies requiring police, fire, or medical response, call 112 directly. This platform is for non-emergency safety concerns and community issues.</p>
        </div>

        <section class="stats-bar">
            <div class="stat-item">
                <span class="stat-number">42</span>
                <div class="stat-label">Total Issues</div>
            </div>
            <div class="stat-item">
                <span class="stat-number">9</span>
                <div class="stat-label">Urgent Priority</div>
            </div>
            <div class="stat-item">
                <span class="stat-number">18</span>
                <div class="stat-label">In Progress</div>
            </div>
            <div class="stat-item">
                <span class="stat-number">21</span>
                <div class="stat-label">Resolved</div>
            </div>
        </section>

        <section class="filters">
            <button class="filter-btn active">All Issues</button>
            <button class="filter-btn">Urgent</button>
            <button class="filter-btn">Moderate</button>
            <button class="filter-btn">Low Priority</button>
            <button class="filter-btn">Crime</button>
            <button class="filter-btn">Traffic Safety</button>
            <button class="filter-btn">Lighting</button>
            <button class="filter-btn">Emergency Services</button>
        </section>

        <section class="issues-container">
            <article class="issue-card">
                <div class="issue-header">
                    <div>
                        <h3 class="issue-title">Broken Street Lights Creating Safety Hazard</h3>
                        <div class="issue-meta">
                            <span>📅 Reported 1 day ago</span>
                            <span>👤 By Community Watch</span>
                        </div>
                    </div>
                    <div>
                        <span class="priority-badge priority-urgent">Urgent</span>
                        <span class="safety-type">Lighting</span>
                    </div>
                </div>
                <p class="issue-description">
                    Multiple street lights along Oak Avenue have been out for over a week, creating dangerous conditions for pedestrians and drivers. The area has become a safety concern, especially for people walking home from the bus stop after dark.
                </p>
                <div class="issue-location">📍 Oak Avenue, between 5th and 8th Street</div>
                <div class="issue-actions">
                    <button class="upvote-btn" onclick="toggleUpvote(this)">
                        <span>👍</span>
                        <span>Upvote</span>
                        <span class="vote-count">(47)</span>
                    </button>
                    <span style="opacity: 0.7;">Status: Electrical Crew Dispatched</span>
                </div>
            </article>

            <article class="issue-card">
                <div class="issue-header">
                    <div>
                        <h3 class="issue-title">Increased Vandalism at Downtown Bus Stops</h3>
                        <div class="issue-meta">
                            <span>📅 Reported 2 days ago</span>
                            <span>👤 By Transit Authority</span>
                        </div>
                    </div>
                    <div>
                        <span class="priority-badge priority-urgent">Urgent</span>
                        <span class="safety-type">Crime</span>
                    </div>
                </div>
                <p class="issue-description">
                    Several downtown bus stops have been repeatedly vandalized with graffiti and broken glass. Commuters report feeling unsafe waiting for buses, and some shelters have damaged seating and lighting fixtures.
                </p>
                <div class="issue-location">📍 Downtown Transit Corridor, Multiple Stops</div>
                <div class="issue-actions">
                    <button class="upvote-btn" onclick="toggleUpvote(this)">
                        <span>👍</span>
                        <span>Upvote</span>
                        <span class="vote-count">(39)</span>
                    </button>
                    <span style="opacity: 0.7;">Status: Increased Patrol Scheduled</span>
                </div>
            </article>

            <article class="issue-card">
                <div class="issue-header">
                    <div>
                        <h3 class="issue-title">Dangerous Intersection Needs Traffic Signal</h3>
                        <div class="issue-meta">
                            <span>📅 Reported 4 days ago</span>
                            <span>👤 By Residents Association</span>
                        </div>
                    </div>
                    <div>
                        <span class="priority-badge priority-moderate">Moderate</span>
                        <span class="safety-type">Traffic Safety</span>
                    </div>
                </div>
                <p class="issue-description">
                    The intersection of Maple Street and Pine Avenue has become increasingly dangerous with multiple near-miss accidents reported. The current stop signs are insufficient for the heavy traffic volume, especially during school hours.
                </p>
                <div class="issue-location">📍 Maple Street & Pine Avenue Intersection</div>
                <div class="issue-actions">
                    <button class="upvote-btn" onclick="toggleUpvote(this)">
                        <span>👍</span>
                        <span>Upvote</span>
                        <span class="vote-count">(33)</span>
                    </button>
                    <span style="opacity: 0.7;">Status: Traffic Study Initiated</span>
                </div>
            </article>

            <article class="issue-card">
                <div class="issue-header">
                    <div>
                        <h3 class="issue-title">Slow Emergency Response Times in North District</h3>
                        <div class="issue-meta">
                            <span>📅 Reported 3 days ago</span>
                            <span>👤 By District Council</span>
                        </div>
                    </div>
                    <div>
                        <span class="priority-badge priority-moderate">Moderate</span>
                        <span class="safety-type">Emergency Services</span>
                    </div>
                </div>
                <p class="issue-description">
                    Residents in the North District have reported longer than average response times for police and ambulance services. The nearest station is 15 minutes away, which could be critical in emergency situations.
                </p>
                <div class="issue-location">📍 North District, Residential Areas</div>
                <div class="issue-actions">
                    <button class="upvote-btn" onclick="toggleUpvote(this)">
                        <span>👍</span>
                        <span>Upvote</span>
                        <span class="vote-count">(28)</span>
                    </button>
                    <span style="opacity: 0.7;">Status: Resource Allocation Review</span>
                </div>
            </article>

            <article class="issue-card">
                <div class="issue-header">
                    <div>
                        <h3 class="issue-title">Speeding Vehicles on School Zone Street</h3>
                        <div class="issue-meta">
                            <span>📅 Reported 1 week ago</span>
                            <span>👤 By Parent Safety Committee</span>
                        </div>
                    </div>
                    <div>
                        <span class="priority-badge priority-moderate">Moderate</span>
                        <span class="safety-type">Traffic Safety</span>
                    </div>
                </div>
                <p class="issue-description">
                    Drivers regularly exceed the 25 mph speed limit on Elm Street during school hours, creating a dangerous situation for children walking to and from Lincoln Elementary School. Speed bumps or additional enforcement needed.
                </p>
                <div class="issue-location">📍 Elm Street, Lincoln Elementary School Zone</div>
                <div class="issue-actions">
                    <button class="upvote-btn" onclick="toggleUpvote(this)">
                        <span>👍</span>
                        <span>Upvote</span>
                        <span class="vote-count">(25)</span>
                    </button>
                    <span style="opacity: 0.7;">Status: Speed Enforcement Increased</span>
                </div>
            </article>

            <article class="issue-card">
                <div class="issue-header">
                    <div>
                        <h3 class="issue-title">Inadequate Lighting in Park Walking Trails</h3>
                        <div class="issue-meta">
                            <span>📅 Reported 5 days ago</span>
                            <span>👤 By Evening Joggers Group</span>
                        </div>
                    </div>
                    <div>
                        <span class="priority-badge priority-low">Low</span>
                        <span class="safety-type">Lighting</span>
                    </div>
                </div>
                <p class="issue-description">
                    The walking trails in Riverside Park have very limited lighting, making evening exercise unsafe. Better lighting would encourage more community use and improve overall park safety during darker hours.
                </p>
                <div class="issue-location">📍 Riverside Park, Walking Trail System</div>
                <div class="issue-actions">
                    <button class="upvote-btn" onclick="toggleUpvote(this)">
                        <span>👍</span>
                        <span>Upvote</span>
                        <span class="vote-count">(19)</span>
                    </button>
                    <span style="opacity: 0.7;">Status: Lighting Assessment Scheduled</span>
                </div>
            </article>

            <article class="issue-card">
                <div class="issue-header">
                    <div>
                        <h3 class="issue-title">Missing Crosswalk Signs at Busy Intersection</h3>
                        <div class="issue-meta">
                            <span>📅 Reported 6 days ago</span>
                            <span>👤 By Pedestrian Advocate</span>
                        </div>
                    </div>
                    <div>
                        <span class="priority-badge priority-low">Low</span>
                        <span class="safety-type">Traffic Safety</span>
                    </div>
                </div>
                <p class="issue-description">
                    The crosswalk at Main Street and 2nd Avenue lacks proper signage and painted lines are faded. While not immediately dangerous, clearer markings would improve pedestrian safety and traffic flow.
                </p>
                <div class="issue-location">📍 Main Street & 2nd Avenue Crosswalk</div>
                <div class="issue-actions">
                    <button class="upvote-btn" onclick="toggleUpvote(this)">
                        <span>👍</span>
                        <span>Upvote</span>
                        <span class="vote-count">(14)</span>
                    </button>
                    <span style="opacity: 0.7;">Status: Road Marking Crew Scheduled</span>
                </div>
            </article>
        </section>
    </main>

    <!-- Floating Action Button -->
    <button class="fab" onclick="openModal()" title="Report Safety Issue">
        ➕
    </button>

    <!-- Modal for New Complaint -->
    <div class="modal" id="complaintModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Report Safety Issue</h2>
                <button class="close-btn" onclick="closeModal()">✕</button>
            </div>
            <form id="complaintForm">
                <div class="form-group">
                    <label for="safetyType">Safety Issue Type *</label>
                    <select id="safetyType" name="safetyType" required>
                        <option value="">Select safety issue type</option>
                        <option value="crime">Crime / Suspicious Activity</option>
                        <option value="traffic-safety">Traffic Safety</option>
                        <option value="lighting">Street Lighting / Visibility</option>
                        <option value="emergency-services">Emergency Services</option>
                        <option value="public-safety">General Public Safety</option>
                        <option value="school-safety">School Zone Safety</option>
                        <option value="pedestrian-safety">Pedestrian Safety</option>
                        <option value="other">Other Safety Concern</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="issueTitle">Issue Title *</label>
                    <input type="text" id="issueTitle" name="issueTitle" placeholder="Brief description of the safety issue" required>
                </div>

                <div class="form-group">
                    <label for="issueDescription">Detailed Description *</label>
                    <textarea id="issueDescription" name="issueDescription" rows="4" placeholder="Provide a detailed description of the safety concern, including when it occurs and how it affects community safety..." required></textarea>
                </div>

                <div class="form-group">
                    <label for="issueLocation">Location *</label>
                    <input type="text" id="issueLocation" name="issueLocation" placeholder="Street address, intersection, or area description" required>
                </div>

                <div class="form-group">
                    <label for="issuePriority">Priority Level</label>
                    <select id="issuePriority" name="issuePriority">
                        <option value="low">Low - Minor safety improvement needed</option>
                        <option value="moderate">Moderate - Ongoing safety concern</option>
                        <option value="urgent">Urgent - Immediate safety hazard</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="timeOfDay">When does this issue occur?</label>
                    <select id="timeOfDay" name="timeOfDay">
                        <option value="anytime">Any time of day</option>
                        <option value="morning">Morning hours (6 AM - 12 PM)</option>
                        <option value="afternoon">Afternoon hours (12 PM - 6 PM)</option>
                        <option value="evening">Evening hours (6 PM - 10 PM)</option>
                        <option value="night">Night hours (10 PM - 6 AM)</option>
                        <option value="rush-hour">Rush hour traffic times</option>
                        <option value="school-hours">School hours / School zone times</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="issuePhotos">Upload Photos (Optional)</label>
                    <div class="file-upload" onclick="document.getElementById('issuePhotos').click()">
                        <input type="file" id="issuePhotos" name="issuePhotos" multiple accept="image/*">
                        <div>📷 Click to upload photos of the safety issue</div>
                        <small style="opacity: 0.7;">Supports multiple images (JPG, PNG)</small>
                    </div>
                </div>

                <div class="form-group">
                    <label for="reporterName">Your Name (Optional)</label>
                    <input type="text" id="reporterName" name="reporterName" placeholder="Your name for follow-up">
                </div>

                <div class="form-group">
                    <label for="reporterContact">Contact Information (Optional)</label>
                    <input type="email" id="reporterContact" name="reporterContact" placeholder="Email for updates on this issue">
                </div>

                <button type="submit" class="submit-btn">Submit Safety Report</button>
            </form>
        </div>
    </div>

    <script>
        // Modal functionality
        function openModal() {
            document.getElementById('complaintModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('complaintModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Close modal when clicking outside
        document.getElementById('complaintModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Upvote functionality
        function toggleUpvote(button) {
            const voteCountSpan = button.querySelector('.vote-count');
            const currentCount = parseInt(voteCountSpan.textContent.match(/\d+/)[0]);
            
            if (button.classList.contains('voted')) {
                button.classList.remove('voted');
                voteCountSpan.textContent = `(${currentCount - 1})`;
                button.querySelector('span:nth-child(2)').textContent = 'Upvote';
            } else {
                button.classList.add('voted');
                voteCountSpan.textContent = `(${currentCount + 1})`;
                button.querySelector('span:nth-child(2)').textContent = 'Voted';
            }
        }

        // Filter functionality
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                // Here you would implement actual filtering logic
                console.log('Filtering by:', this.textContent);
            });
        });

        // Form submission
        document.getElementById('complaintForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(this);
            const issueData = {
                safetyType: formData.get('safetyType'),
                title: formData.get('issueTitle'),
                description: formData.get('issueDescription'),
                location: formData.get('issueLocation'),
                priority: formData.get('issuePriority'),
                timeOfDay: formData.get('timeOfDay'),
                reporter: formData.get('reporterName'),
                contact: formData.get('reporterContact')
            };
            
            // Simulate form submission
            console.log('Submitting safety issue:', issueData);
            
            // Show success message (in a real app, this would be handled by the backend)
            alert('Thank you! Your safety issue has been reported successfully. The appropriate law enforcement or safety department will be notified and you will receive updates via email if you provided contact information.');
            
            // Reset form and close modal
            this.reset();
            closeModal();
        });

        // File upload preview
        document.getElementById('issuePhotos').addEventListener('change', function(e) {
            const fileUpload = document.querySelector('.file-upload');
            const files = e.target.files;
            
            if (files.length > 0) {
                fileUpload.innerHTML = `
                    <div>📷 ${files.length} photo(s) selected</div>
                    <small style="opacity: 0.7;">Click to change photos</small>
                `;
            }
        });

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'993cb5c8c0dbc6d2',t:'MTc2MTM0MjgzOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
